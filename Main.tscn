[gd_scene load_steps=11 format=3 uid="uid://iqvlmmwy7d46"]

[ext_resource type="Script" path="res://Main.gd" id="1_t2km6"]
[ext_resource type="Theme" uid="uid://b6iv3a38m6uhb" path="res://UI.tres" id="2_b2qml"]
[ext_resource type="PackedScene" uid="uid://dmmp1otl8dakg" path="res://Buildings/ToolbarBuilding.tscn" id="3_22qjw"]
[ext_resource type="Texture2D" uid="uid://c5ocuxxxsbgne" path="res://Assets/UI/UIMapBackgroundAndBorder.png" id="3_c74ye"]
[ext_resource type="Script" path="res://BuildMenu.gd" id="4_4yfy1"]
[ext_resource type="Texture2D" uid="uid://du5p0tvlhojks" path="res://Assets/UI/PopIcon.png" id="4_wg3lp"]
[ext_resource type="Texture2D" uid="uid://ca5lct0ctr37m" path="res://Assets/UI/StoneIcon.png" id="5_o2ngn"]
[ext_resource type="FontFile" uid="uid://m1fwnp6qsmnn" path="res://Assets/UI/Quikhand.ttf" id="6_rv3xe"]
[ext_resource type="PackedScene" uid="uid://doi658hn04jhv" path="res://UI/popup.tscn" id="7_703se"]
[ext_resource type="Script" path="res://AbilityMenu.gd" id="9_3lmso"]

[node name="Main" type="Node2D"]
script = ExtResource("1_t2km6")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(690, 360)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_left = 1.0
offset_top = 1.0
offset_right = 1280.0
offset_bottom = 721.0
mouse_filter = 2
theme = ExtResource("2_b2qml")

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/UI"]
layout_mode = 0
offset_right = 1280.0
offset_bottom = 720.0
mouse_filter = 2
texture = ExtResource("3_c74ye")

[node name="Depth" type="Label" parent="CanvasLayer/UI"]
layout_mode = 2
offset_left = 65.0
offset_top = 251.0
offset_right = 225.0
offset_bottom = 295.0
theme_override_font_sizes/font_size = 36
text = "Depth: 0"

[node name="Resources" type="VBoxContainer" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 57.0
offset_top = 52.0
offset_right = 217.0
offset_bottom = 276.0

[node name="PopulationBox" type="HBoxContainer" parent="CanvasLayer/UI/Resources"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/UI/Resources/PopulationBox"]
modulate = Color(0, 0, 0, 1)
layout_mode = 2
texture = ExtResource("4_wg3lp")

[node name="Population" type="Label" parent="CanvasLayer/UI/Resources/PopulationBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 36
text = "x 3"

[node name="StoneBox" type="HBoxContainer" parent="CanvasLayer/UI/Resources"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/UI/Resources/StoneBox"]
modulate = Color(0, 0, 0, 1)
layout_mode = 2
texture = ExtResource("5_o2ngn")

[node name="Stone" type="Label" parent="CanvasLayer/UI/Resources/StoneBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 36
text = "x 3"

[node name="EndLevelBtn" type="Button" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 7.0
offset_top = 670.0
offset_right = 158.0
offset_bottom = 712.0

[node name="Label" type="Label" parent="CanvasLayer/UI/EndLevelBtn"]
layout_mode = 0
offset_top = -1.0
offset_right = 151.0
offset_bottom = 43.0
text = "To Build Mode"
horizontal_alignment = 1
vertical_alignment = 1

[node name="BuildMenu" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme = ExtResource("2_b2qml")
script = ExtResource("4_4yfy1")

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/BuildMenu"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.810156
anchor_top = 0.0652778
anchor_right = 0.810156
anchor_bottom = 0.345833
offset_left = -97.0
offset_bottom = 299.0
metadata/_edit_use_anchors_ = true

[node name="Staircase" parent="CanvasLayer/BuildMenu/VBoxContainer" node_paths=PackedStringArray("info_popup") instance=ExtResource("3_22qjw")]
layout_mode = 2
info_popup = NodePath("../../StaircasePopup")
type = 2

[node name="House" parent="CanvasLayer/BuildMenu/VBoxContainer" node_paths=PackedStringArray("info_popup") instance=ExtResource("3_22qjw")]
layout_mode = 2
info_popup = NodePath("../../HousePopup")

[node name="Quarry" parent="CanvasLayer/BuildMenu/VBoxContainer" node_paths=PackedStringArray("info_popup") instance=ExtResource("3_22qjw")]
layout_mode = 2
info_popup = NodePath("../../QuarryPopup")
type = 1

[node name="Workshop" parent="CanvasLayer/BuildMenu/VBoxContainer" node_paths=PackedStringArray("info_popup") instance=ExtResource("3_22qjw")]
layout_mode = 2
info_popup = NodePath("../../WorkshopPopup")
type = 3

[node name="Label" type="Label" parent="CanvasLayer/BuildMenu"]
layout_mode = 0
offset_left = 942.0
offset_top = 18.0
offset_right = 1013.0
offset_bottom = 44.0
theme_override_font_sizes/font_size = 20
text = "Buildings"

[node name="Tooltip" type="Label" parent="CanvasLayer/BuildMenu"]
visible = false
layout_mode = 2
offset_left = 849.0
offset_top = 1.0
offset_right = 1112.0
offset_bottom = 105.0
theme_override_fonts/font = ExtResource("6_rv3xe")
text = "Test Building
Cost - blah

Wow this is a building, pretty neat"

[node name="StaircasePopup" parent="CanvasLayer/BuildMenu" instance=ExtResource("7_703se")]
visible = false
layout_mode = 0
offset_left = 736.0
offset_top = 43.0
offset_right = 936.0
offset_bottom = 143.0

[node name="HousePopup" parent="CanvasLayer/BuildMenu" instance=ExtResource("7_703se")]
visible = false
layout_mode = 0
offset_left = 736.0
offset_top = 149.0
offset_right = 936.0
offset_bottom = 249.0

[node name="QuarryPopup" parent="CanvasLayer/BuildMenu" instance=ExtResource("7_703se")]
visible = false
layout_mode = 0
offset_left = 736.0
offset_top = 328.0
offset_right = 936.0
offset_bottom = 428.0

[node name="WorkshopPopup" parent="CanvasLayer/BuildMenu" instance=ExtResource("7_703se")]
visible = false
layout_mode = 0
offset_left = 736.0
offset_top = 492.0
offset_right = 936.0
offset_bottom = 592.0

[node name="AbilityMenu" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
theme = ExtResource("2_b2qml")
script = ExtResource("9_3lmso")

[node name="Label" type="Label" parent="CanvasLayer/AbilityMenu"]
layout_mode = 0
offset_left = 1178.0
offset_top = 41.0
offset_right = 1249.0
offset_bottom = 67.0
text = "Abilities"

[connection signal="pressed" from="CanvasLayer/UI/EndLevelBtn" to="." method="_on_end_level_btn_pressed"]
[connection signal="build" from="CanvasLayer/BuildMenu/VBoxContainer/Staircase" to="." method="build"]
[connection signal="build" from="CanvasLayer/BuildMenu/VBoxContainer/House" to="." method="build"]
[connection signal="build" from="CanvasLayer/BuildMenu/VBoxContainer/Quarry" to="." method="build"]
[connection signal="build" from="CanvasLayer/BuildMenu/VBoxContainer/Workshop" to="." method="build"]
